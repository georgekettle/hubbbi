<div class="hidden md:flex bg-primary-600 justify-between items-center p-5 px-4 sm:px-6" style="z-index: 999">
  <%= link_to root_path, class: "flex items-center" do %>
    <%= image_tag asset_url('logo.svg'), class: 'w-6 mr-2' %>
    <h4 class="tracking-tight text-white font-semibold hidden sm:block">Akademy project</h4>
  <% end %>
  <div style="z-index: 1000">
    <% if user_signed_in? %>
      <div data-controller="dropdown" class="relative h-10">
        <button type="button" data-action="dropdown#toggle click@window->dropdown#hide">
          <%= render "components/avatar", user: current_user, size: 10 %>
        </button>

        <div
          data-dropdown-target="menu"
          class="transition transform origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none overflow-hidden"
          data-transition-enter-from="opacity-0 scale-95"
          data-transition-enter-to="opacity-100 scale-100"
          data-transition-leave-from="opacity-100 scale-100"
          data-transition-leave-to="opacity-0 scale-95"
        >
          <% if session[:selected_group] && session[:selected_group]['id'] %>
            <% selected_group_member = GroupMember.find_by(group_id: session[:selected_group]['id'], user: current_user) %>
            <%= link_to("Profile", group_member_path(selected_group_member), class: "dropdown-link") if selected_group_member %>
            <%= link_to("Settings", edit_user_path(current_user), class: "dropdown-link") if selected_group_member %>
          <% end %>
          <%= link_to "Log out", destroy_user_session_path, method: :delete, class: "dropdown-link-danger" %>
        </div>
      </div>
    <% else %>
      <%= link_to "Login", new_user_session_path, class: "text-white text-sm bg-black bg-opacity-20 hover:bg-opacity-30 p-2 rounded-md px-4 font-medium" %>
      <%= link_to "Signup", new_user_registration_path, class: "text-primary-700 text-sm bg-white p-2 rounded-md px-4 font-medium ml-2" %>
    <% end %>
  </div>
</div>
